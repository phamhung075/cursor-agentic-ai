# ğŸ—‚ï¸ Script & Test Organization Rules

## ğŸ“‹ IMPORTANT RULES FOR AI AGENTS

### ğŸ¯ **MANDATORY STORAGE LOCATIONS**
# ğŸ—‚ï¸ Script & Test Organization Rules

## ğŸ“‹ IMPORTANT RULES FOR AI AGENTS

### ğŸ¯ **MANDATORY STORAGE LOCATIONS**

All scripts and tests created by AI agents for improvement or management MUST be stored in:

```
agents/_store/scripts/     - All utility scripts
agents/_store/tests/       - All test files
```

### ğŸ“‚ **CATEGORIZATION SYSTEM**

#### **agents/_store/scripts/** Categories:
- `core/` - Core framework management
- `backup/` - Backup and recovery utilities
- `analysis/` - Analysis and reporting tools
- `cleanup/` - Cleanup and maintenance
- `migration/` - Migration and conversion tools
- `utility/` - General purpose utilities

#### **agents/_store/tests/** Categories:
- `integration/` - Integration tests
- `unit/` - Unit tests
- `system/` - System tests
- `performance/` - Performance tests

### ğŸ—ƒï¸ **CORE FILE MANAGEMENT SYSTEM**

**CRITICAL:** For all operations involving `agents/_store/projects/_core/` files:

#### **ğŸš¨ MANDATORY FILE ACCESS:**
```javascript
// âœ… REQUIRED - Use monitored API instead of direct file system
const { readCoreFile, getCoreFileInfo } = require('../scripts/core/core_file_api.js');

// Read core files with automatic path fixing and monitoring
const content = await readCoreFile('rules/logic.mdc');

// Get file metadata and status
const fileInfo = await getCoreFileInfo('rules/workflow.mdc');
```

#### **ğŸ”§ CORE MANAGEMENT COMMANDS:**
```bash
npm run AAI:core-scan            # Scan and update core file database
npm run AAI:core-api-status      # Check core framework health
npm run AAI:core-monitor         # Start continuous monitoring
npm run AAI:core-search          # Search core files by content
npm run AAI:core-validate        # Validate all file links
```

#### **ğŸ“Š MONITORING FEATURES:**
- **Path Fixing:** Automatic correction of corrupt/broken file paths
- **Link Validation:** Detection and tracking of broken cross-references
- **Access Logging:** All core file access is monitored and logged
- **Health Scoring:** System health based on file validity and link integrity
- **Metadata Tracking:** Title, description, status, and relationships

#### **ğŸ›¡ï¸ CORE FILE RULES:**
1. âœ… **Never use direct `fs.readFile()`** for core files
2. âœ… **Always use relative paths** from `_core` directory
3. âœ… **Handle path fixing scenarios** - files may have corrupt paths
4. âœ… **Check file status** before processing
5. âœ… **All access is automatically logged** for audit

### ğŸ›¡ï¸ **MANDATORY REQUIREMENTS**

#### **For All Scripts:**
1. âœ… **Header Documentation** - Purpose, usage, author
2. âœ… **Error Handling** - Proper try/catch and error reporting
3. âœ… **Backup Creation** - Before any destructive operations
4. âœ… **Progress Reporting** - Clear status updates during execution
5. âœ… **NPM Integration** - Register in package.json with AAI: prefix
6. âœ… **Core File Compliance** - Use monitored API for core file access

#### **For All Tests:**
1. âœ… **Clear Test Names** - Descriptive and specific
2. âœ… **Setup/Teardown** - Proper test environment management
3. âœ… **Assertions** - Clear pass/fail criteria
4. âœ… **Documentation** - What is being tested and why

### ğŸš€ **NAMING CONVENTIONS**

#### **Scripts:**
- `action_target_description.js` - Example: `analyze_core_paths.js`
- `backup_component_timestamp.sh` - Example: `backup_core_structure.sh`
- `fix_issue_type.py` - Example: `fix_broken_links.py`

#### **Tests:**
- `test_component_functionality.js` - Example: `test_agent_memory.js`
- `integration_test_scenario.js` - Example: `integration_test_autopilot.js`

### ğŸ”§ **INTEGRATION REQUIREMENTS**

All new scripts MUST be registered in `package.json`:

```json
{
  "scripts": {
    "AAI:your-script": "node agents/_store/scripts/your_script.js"
  }
}
```

### ğŸ“Š **TRACKING & MANAGEMENT**

Use the script manager for organization:

```bash
npm run AAI:scripts-list        # List all scripts by category
npm run AAI:scripts-organize    # Organize scripts into categories
npm run AAI:scripts-help        # Show available scripts and usage
```

### ğŸ› ï¸ **AGENT RESPONSIBILITIES**

When creating new utilities, AI agents MUST:

1. ğŸ” **Check existing scripts** - Avoid duplication
2. ğŸ“‚ **Use proper location** - `agents/_store/scripts/` or `agents/_store/tests/`
3. ğŸ·ï¸ **Apply categorization** - Place in appropriate subdirectory
4. ğŸ“ **Document thoroughly** - Purpose, usage, examples
5. ğŸ”— **Register in package.json** - For easy access
6. ğŸ§ª **Create tests** - If applicable, add corresponding test files
7. ğŸ—ƒï¸ **Follow core file rules** - Use monitored API for all core file operations

---

**Status:** âœ… **ACTIVE RULES - ALL AGENTS MUST FOLLOW**
**Last Updated:** 2025-05-24
**Core Management:** âœ… **FULLY OPERATIONAL**
